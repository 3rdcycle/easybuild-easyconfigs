easyblock="PythonPackage"

name='FFC'
version='1.0.0'

homepage='https://launchpad.net/ffc'
description="""FEniCS Form Compiler (FFC) works as a compiler for multilinear forms by generating
code (C++) for the evaluation of a multilinear form given in mathematical notation."""

toolkit={'name':'dummy','version':''}
toolkitsuffix = "-gimkl-0.5.2"

sources=['%s-%s.tar.gz'%(name.lower(),version)]
majorversion = "%s.x" % ".".join(version.split('.')[:-1])
sourceURLs=['https://launchpad.net/FFC/%s/%s/+download/' % (majorversion, version)]

pythonversion = '2.7.3'
pythonshortversion = ".".join(pythonversion.split(".")[:-1])

pythonsuffix = "-Python-%s" % pythonversion
versionsuffix = "%s%s" % (toolkitsuffix, pythonsuffix)

dependencies=[
                ('Python', pythonversion, toolkitsuffix, True),
                ('UFL', '1.0.0', versionsuffix, True),
                ('FIAT', '1.0.0', versionsuffix, True),
                ('UFC', '2.0.5', versionsuffix, True),
                ('Viper', '1.0.0', versionsuffix, True),
             ]

sanityCheckPaths = {
                     'files': ['bin/ffc'],
                     'dirs':['lib/python%s/site-packages/ffc' % pythonshortversion]
                    }

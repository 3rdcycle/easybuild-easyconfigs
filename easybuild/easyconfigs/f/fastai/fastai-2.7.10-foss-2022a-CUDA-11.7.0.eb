easyblock = 'PythonBundle'

name = 'fastai'
version = '2.7.10'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://www.fast.ai/'
description = """The fastai deep learning library."""

toolchain = {'name': 'foss', 'version': '2022a'}

use_pip = True

dependencies = [
    ('CUDA', '11.7.0', '', SYSTEM),
    ('Python', '3.10.4'),
    ('PyTorch', '1.12.0', versionsuffix),
    ('PyTorch-Lightning', '1.8.4', versionsuffix),
    ('torchvision', '0.13.1', versionsuffix),
    ('matplotlib', '3.5.2'),
    ('SciPy-bundle', '2022.05'),
    ('spaCy', '3.4.4'),
    ('PyYAML', '6.0'),
    ('Pillow', '9.1.1'),
    ('scikit-learn', '1.1.2'),
    ('Transformers', '4.24.0'),
    ('SentencePiece', '0.1.97'),
    ('tensorboard', '2.10.0'),
    ('pydicom', '2.3.0'),
    ('Flask', '2.2.2'),
    ('captum', '0.5.0', versionsuffix),
    ('wandb', '0.13.6'),
    ('scikit-image', '0.19.3'),
    ('Albumentations', '1.3.0', versionsuffix),
    ('OpenCV', '4.6.0', versionsuffix + '-contrib'),
    ('Arrow', '8.0.0'),
    ('Ninja', '1.10.2'),
]

exts_list = [
    ('fastdownload', '0.0.7', {
        'checksums': ['20507edb8e89406a1fbd7775e6e2a3d81a4dd633dd506b0e9cf0e1613e831d6a'],
    }),
    ('fastcore', '1.5.27', {
        'checksums': ['c6b66b35569d17251e25999bafc7d9bcdd6446c1e710503c08670c3ff1eef271'],
    }),
    ('fastprogress', '1.0.3', {
        'checksums': ['7a17d2b438890f838c048eefce32c4ded47197ecc8ea042cecc33d3deb8022f5'],
    }),
    ('pytorch-ignite', '0.4.10', {
        'modulename': 'ignite',
        'checksums': ['b56609774ada5a140da3975b6bee9fdce234b1db74567f7cffce0020ff8aa7ad'],
    }),
    ('hydra-slayer', '0.4.0', {
        'checksums': ['2e7ef0b99e5e11504d80996f689ed5ed7ae8766edb8e76b6933b306966159604'],
    }),
    ('catalyst', '22.04', {
        'source_urls': ['https://github.com/%(name)s-team/%(name)s/archive/refs/tags'],
        'sources': ['v%(version)s.tar.gz'],
        'checksums': ['3d00a21b3a3180e7350a89d43530c4ad84db97a6ff00fbb4f48f0540621edaf1'],
    }),
    ('Brotli', '1.0.9', {
        'modulename': 'brotli',
        'sources': ['%(name)s-%(version)s.zip'],
        'checksums': ['4d1b810aa0ed773f81dceda2cc7b403d01057458730e309856356d4ef4188438'],
    }),
    ('Flask-Compress', '1.13', {
        'checksums': ['ee96f18bf9b00f2deb4e3406ca4a05093aa80e2ef0578525a3b4d32ecdff129d'],
    }),
    ('kornia', '0.6.9', {
        'checksums': ['b756bba0db8d47046417fa72271b2d648c570ec6f1d61e1805e6a36911f63bb9'],
    }),
    ('dulwich', '0.20.50', {
        'checksums': ['50a941796b2c675be39be728d540c16b5b7ce77eb9e1b3f855650ece6832d2be'],
    }),
    ('everett', '3.1.0', {
        'checksums': ['46175da5bcb06c193aa129e59714bca981344ff067c3a8bc2e625bc0b3dc01f6'],
    }),
    ('wurlitzer', '3.0.3', {
        'checksums': ['224f5fe70618be3872c05dfddc8c457191ec1870654596279fcc1edadebe3e5b'],
    }),
    ('websocket-client', '1.3.3', {
        'modulename': 'websocket',
        'checksums': ['d58c5f284d6a9bf8379dab423259fe8f85b70d5fa5d2916d5791a84594b122b1'],
    }),
    ('configobj', '5.0.6', {
        'checksums': ['a2f5650770e1c87fb335af19a9b7eb73fc05ccf22144eb68db7d00cd2bcb0902'],
    }),
    ('comet_ml', '3.31.21', {
        'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl',
        'unpack_sources': False,
        'checksums': ['e7857d5dacc432758110f5201ca7ecc5a480e93f4685494fdedfe665a068ff07'],
    }),
    ('fsspec', '2022.7.1', {
        'checksums': ['7f9fb19d811b027b97c4636c6073eb53bc4cbee2d3c4b33fa88b9f26906fd7d7'],
    }),
    ('timm', '0.6.12', {
        'checksums': ['8f1747121598e06a1ea2d00df16d332cc284cdd4596bdc136b490a2122d3aa91'],
    }),
    ('accelerate', '0.15.0', {
        'checksums': ['438e25a01afa6e3ffbd25353e76a68be49677c3050f10bfac7beafaf53503efc'],
    }),
    (name, version, {
        'checksums': ['ccef6a185ae3a637efc9bcd9fea8e48b75f454d0ebad3b6df426f22fae20039d'],
    }),
]

sanity_pip_check = True

moduleclass = 'lib'

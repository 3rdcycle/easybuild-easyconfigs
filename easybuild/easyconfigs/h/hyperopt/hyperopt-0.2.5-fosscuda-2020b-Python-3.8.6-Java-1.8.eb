# Author: Pavel Grochal (INUITS)
# License: GPLv2

easyblock = 'PythonBundle'

name = 'hyperopt'
version = '0.2.5'
local_python_versionsuffix = '-Python-%(pyver)s'
local_java_versionsuffix = '-Java-%(javaver)s'
versionsuffix = local_python_versionsuffix + local_java_versionsuffix

homepage = 'https://github.com/hyperopt/hyperopt'
description = "Distributed Asynchronous Hyperparameter Optimization in Python"

toolchain = {'name': 'fosscuda', 'version': '2020b'}

builddependencies = [
    ('CMake', '3.18.4'),
]

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),  # for numpy, scipy
    ('networkx', '2.5'),
    ('scikit-learn', '0.23.2'),
    ('Java', '1.8', '', True),
    ('Spark', '3.1.1'),
]

use_pip = True
sanity_pip_check = False

exts_default_options = {'source_urls': [PYPI_SOURCE]}

exts_list = [
    ('tqdm', '4.46.0', {
        'checksums': ['4733c4a10d0f2a4d098d801464bdaf5240c7dadd2a7fde4ee93b0a0efd9fb25e'],
    }),
    ('cloudpickle', '1.4.1', {
        'checksums': ['0b6258a20a143603d53b037a20983016d4e978f554ec4f36b3d0895b947099ae'],
    }),
    ('pymongo', '3.10.1', {
        'checksums': ['993257f6ca3cde55332af1f62af3e04ca89ce63c08b56a387cdd46136c72f2fa'],
    }),
    ('lightgbm', '2.3.1', {
        'checksums': ['bd1817be401e74c0d8b049e97ea2f35d2ce155cfa130119ce4195ea207bd6388'],
    }),
    ('py4j', '0.10.7', {
        'source_tmpl': 'py4j-%(version)s.zip',
        'source_urls': ['https://pypi.python.org/packages/source/p/py4j'],
        'checksums': ['721189616b3a7d28212dfb2e7c6a1dd5147b03105f1fc37ff2432acd0e863fa5'],
    }),
    (name, version, {
        'use_pip_extras': 'SparkTrials,MongoTrials,ATPE',
        'checksums': ['bc6047d50f956ae64eebcb34b1fd40f186a93e214957f20e87af2f10195295cc'],
    }),
]

moduleclass = 'math'

name='ATLAS'
version='3.8.4'

homepage='http://math-atlas.sourceforge.net'
description="""ATLAS (Automatically Tuned Linear Algebra Software) is an instantiation
of a new paradigm in high performance library production and maintenance, which
we term AEOS (Automated Empirical Optimization of Software); this style of library
management has been created in order to allow software to keep pace with the incredible
rate of hardware advancement inherent in Moore's Law. ATLAS is the application of
this new paradigm to linear algebra software, with the present emphasis on the Basic
Linear Algebra Subprograms (BLAS), a widely used, performance-critical, linear algebra
kernel library."""

toolkit={'name':'GCC','version':'4.6.3'}

sources=['%s%s.tar.bz2'%(name.lower(),version)]

lapack='LAPACK'
lapackver='3.4.0'

dependencies=[(lapack, lapackver)]
versionsuffix='-%s-%s' % (lapack, lapackver)

patches=['ATLAS-3.8.4_illegal-instruction-fix.patch',
         'ATLAS-3.8.4_make-install-shared.patch'
        ]

## build full LAPACK library with supplied netlib LAPACK
full_lapack=True

## fix for http://math-atlas.sourceforge.net/errata.html#sharedProbe
configopts="-Ss f77lib '-L$(SOFTROOTGCC)/lib64 -lgfortran'"

## ignore check done by ATLAS for CPU throttling;
## you should set this to False (or remove it)
## and disable CPU throttling (requires root privileges) if you can
ignorethrottling=True

moduleclass='compiler'

easyblock = "PythonBundle"

name = 'matlab-proxy'
version = '0.5.4'

homepage = 'https://github.com/mathworks/matlab-proxy'
description = 'MATLAB Integration for Jupyter'

toolchain = {'name': 'GCCcore', 'version': '11.3.0'}

builddependencies = [
    ('binutils', '2.38'),
    ('nodejs', '16.15.1'),
]

dependencies = [
    ('Python', '3.10.4'),
    ('Xvfb', '21.1.3'),
    ('aiohttp', '3.8.3'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    (name, version, {
        'checksums': ['534531135ae341bd86de6c18ce2694b38614deeedf57a57d4cba1d2079eb662e'],
    }),
]

sanity_check_paths = {
    'files': ['bin/matlab-proxy-app'],
    'dirs': ['lib64/python%(pyshortver)s/site-packages']
}

modloadmsg = 'matlab-proxy requires MATLAB to be loaded separately (2020b or later)'

moduleclass = 'math'

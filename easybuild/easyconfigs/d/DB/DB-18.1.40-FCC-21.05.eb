# EasyBuild easyconfig
name = 'DB'
version = '18.1.40'

homepage = 'https://www.oracle.com/technetwork/products/berkeleydb'
description = """Berkeley DB enables the development of custom data management
 solutions, without the overhead traditionally associated with such custom
 projects."""

toolchain = {'name': 'FCC', 'version': '21.05'}

# use Homebrew source mirror to allow auto-downloading source tarball
# (Oracle website - https://www.oracle.com/technetwork/products/berkeleydb/downloads/ - requires reigstration)
source_urls = ['https://bintray.com/homebrew/mirror/download_file?file_path=']
sources = [
    {'download_filename': 'berkeley-db-%(version)s.tar.gz', 'filename': SOURCELOWER_TAR_GZ},
]
patches = ['%(name)s-%(version)s_fix_doc_install.patch']
checksums = [
    '0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8',  # db-%(version)s.tar.gz
    '441f48568156f72f02a8662998d293cc7edad687604b4f8af722f21c6db2a52d',  # DB-%(version_major_minor)s.40_fix_doc_install.patch
]


sanity_check_paths = {
    'files': ['bin/db_archive', 'bin/db_checkpoint', 'bin/db_convert', 'bin/db_deadlock', 'bin/db_dump', 'bin/db_hotbackup', 'bin/db_load', 'bin/db_log_verify', 'bin/db_printlog', 'bin/db_recover', 'bin/db_replicate', 'bin/db_stat', 'bin/db_tuner', 'bin/db_upgrade', 'bin/db_verify', 'include/db.h', 'lib/libdb.a', 'lib/libdb.so'],
    'dirs': [],
}

moduleclass = 'tools'

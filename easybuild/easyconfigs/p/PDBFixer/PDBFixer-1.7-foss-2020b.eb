easyblock = 'PythonPackage'

name = 'PDBFixer'
version = '1.7'

homepage = 'https://github.com/openmm/pdbfixer'
description = """PDBFixer is an easy to use application for fixing problems in Protein Data Bank files in preparation
for simulating them."""

toolchain = {'name': 'foss', 'version': '2020b'}

source_urls = ['https://github.com/openmm/pdbfixer/archive/refs/tags/']
sources = ['v%(version)s.tar.gz']
checksums = ['a0bef3c52a7bbe69a6aea5333f51f3e7d158339be5829aed19b0344bd66d4eea']

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),
    ('OpenMM', '7.5.1'),
]

download_dep_fail = True
use_pip = True

sanity_check_paths = {
    'files': ['bin/pdbfixer'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ["pdbfixer --help"]

sanity_pip_check = True

moduleclass = 'bio'

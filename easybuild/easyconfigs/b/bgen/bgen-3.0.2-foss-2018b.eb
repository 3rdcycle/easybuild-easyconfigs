easyblock = 'CMakeMake'

name = 'bgen'
version = '3.0.2'

homepage = 'https://github.com/limix/bgen'
description = """This software implements a de novo, alignment free measure of sample 
genetic dissimilarity which operates upon raw sequencing reads. 
It is able to calculate the genetic dissimilarity between samples without any reference genome, 
and without assembling one."""

toolchain = {'name': 'foss', 'version': '2018b'}
toolchainopts = {'pic': True}

source_urls = ['https://github.com/limix/bgen/archive/']
sources = ['%(version)s.tar.gz']
checksums = ['e4237bc51641bf4d01da308b8efe11bfa2466df9935a53ced1e0efd86ca5d8f7']

builddependencies = [
    ('CMake', '3.12.1'),
]

dependencies = [
    ('zstd', '1.3.8'),
    ('almosthere', '1.0.1'),
]

runtest = 'test'

sanity_check_paths = {
    'files': ['lib/libbgen.%s' % SHLIB_EXT, 'lib/libbgen_static.a', 'include/bgen.h'],
    'dirs': ['lib', 'include'],
}

moduleclass = 'bio'
